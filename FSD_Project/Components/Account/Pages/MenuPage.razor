@page "/Menu"

<PageTitle>Menu</PageTitle>

<link rel="stylesheet" href="https://unpkg.com/swiper@10/swiper-bundle.min.css" />


    <!-- Navbar -->
<header class="navbar">
    <nav>
        <ul class="nav-links">
            <li>
                <button class="nav-button home" onclick="window.location.href='/'">Home</button>
            </li>
            <li>
                <button class="nav-button reservations" onclick="window.location.href='/reservations/create'">Reservations</button>
            </li>
            <li>
                <button class="nav-button menu" onclick="window.location.href='/Menu'">Menu</button>
            </li>
            <li>
                <ul class="icon">
                    <li>
                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="26" class="bi bi-person-fill" viewBox="0 0 16 16">
                            <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6" />
                        </svg>
                    </li>
                    <li>
                        <AuthorizeView>
                            <NotAuthorized>
                                <button class="nav-button login-button" onclick="window.location.href='/Admin'">Login</button>
                            </NotAuthorized>

                            <Authorized>
                                <button class="nav-button logout-button" onclick="window.location.href='/Logout'">Logout</button>
                            </Authorized>
                        </AuthorizeView>
                    </li>
                </ul>
            </li>
        </ul>
    </nav>
</header>

    <!-- Hero Section -->
    <section class="hero-menu">
        <h1>Our Menu</h1>
        <p>Explore the flavors of Athens</p>
    </section>

<div class="slider-section">

    <section id="trending">
        <div class="container">
            <h1 class="text-center section-heading"> Trending Dishes</h1>
        </div>
    </section>
    <hr />
    <!-- Update this section instead -->
    <div class="swiper-container trending-slider">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <img src="/dish1.jpg" alt="Greek Salad">
                <h3>Greek Salad</h3>
                <p>$12.99</p>
            </div>
            <div class="swiper-slide">
                <img src="/dish2.jpg" alt="Moussaka">
                <h3>Moussaka</h3>
                <p>$18.99</p>
            </div>
            <div class="swiper-slide">
                <img src="/dish3.jpg" alt="Souvlaki">
                <h3>Souvlaki</h3>
                <p>$15.99</p>
            </div>
        </div>
        <!-- Add Pagination -->
        <div class="swiper-pagination"></div>
        <!-- Add Navigation -->

        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>


    <!-- For modern browsers (ES modules support) -->
</div>

    <!-- Menu Section -->
    <section class="menu-section">
        <div class="menu-category">
            <h2>Appetizers</h2>
            <ul class="menu-items">
                <li>
                    <div class="menu-item">
                        <h3>Greek Salad</h3>
                        <p>Fresh tomatoes, cucumbers, feta cheese, and olives</p>
                        <span>$12.99</span>
                    </div>
                </li>
                <li>
                    <div class="menu-item">
                        <h3>Tzatziki</h3>
                        <p>Traditional Greek yogurt dip with cucumber and garlic</p>
                        <span>$8.99</span>
                    </div>
                </li>
            </ul>
        </div>

        <div class="menu-category">
            <h2>Main Courses</h2>
            <ul class="menu-items">
                <li>
                    <div class="menu-item">
                        <h3>Moussaka</h3>
                        <p>Layers of eggplant, minced meat, and béchamel sauce</p>
                        <span>$18.99</span>
                    </div>
                </li>
                <li>
                    <div class="menu-item">
                        <h3>Souvlaki</h3>
                        <p>Grilled meat skewers served with pita and tzatziki</p>
                        <span>$15.99</span>
                    </div>
                </li>
            </ul>
        </div>

        <div class="menu-category">
            <h2>Desserts</h2>
            <ul class="menu-items">
                <li>
                    <div class="menu-item">
                        <h3>Baklava</h3>
                        <p>Flaky pastry with nuts and honey syrup</p>
                        <span>$6.99</span>
                    </div>
                </li>
                <li>
                    <div class="menu-item">
                        <h3>Galaktoboureko</h3>
                        <p>Custard-filled pastry soaked in syrup</p>
                        <span>$7.99</span>
                    </div>
                </li>
            </ul>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <p>
            © @DateTime.Now.Year Ruben x John. All rights reserved.
        </p>
    </footer>

<AuthorizeView Roles="Administrator">
    <div class="admin">
        <a href="/reservations">Click for Admin Page</a>
    </div>
</AuthorizeView>

    <!-- Swiper Container for Trending Dishes -->


<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>

<!-- Swiper script (same for all browsers) -->
<script src="https://unpkg.com/swiper@10/swiper-bundle.min.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        var mySwiper = new Swiper('.trending-slider', {
            effect: 'coverflow',
            grabCursor: true,
            centeredSlides: true,
            loop: true,
            slidesPerView: 'auto',
            coverflowEffect: {
                rotate: 0,
                stretch: 0,
                depth: 100,
                modifier: 2.5
            },
            pagination: {
                el: '.swiper-pagination',
                clickable: true
            },
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev'
            }
        });
    });
</script>


@code {
    [Inject] IJSRuntime? JSRuntime { get; set; }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender && JSRuntime != null)
        {
            await JSRuntime.InvokeVoidAsync("eval", @"
            var TrendingSlider = new Swiper('.trending-slider', {
                effect: 'coverflow',
                grabCursor: true,
                centredSlides: true,
                loop: true,
                slidesPerView: 'auto',
                coverflowEffect: {
                    rotate: 0,
                    stretch: 0,
                    depth: 100,
                    modifier: 2.5
                },
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev'
                }
            });
        ");
        }
    }
}
